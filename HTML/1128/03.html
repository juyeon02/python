<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <!-- Promise -->
    <!-- Promise는 비동기 작업의 최종 완료 또는 실패를 나타내는 객체 -->

    <script>
      //   getData(function (a) {
      //     getMoreData(a, function (b) {
      //       getMoreData(b, function (c) {
      //         // 끝없이 중첩...
      //       });
      //     });
      //   });

      // Promise로 해결
      //   getData()
      //     .then((a) => getMoreData(a))
      //     .then((b) => getMoreData(b))
      //     .then((c) => console.log(c));

      //   Promise 생성
      //   const promise = new Promise((resolve, reject) => {
      //     // 비동기 작업

      //     if (성공) {
      //       resolve(결과);
      //     } else {
      //       reject(에러);
      //     }
      //   });

      const successPromise = new Promise((resolve, reject) => {
        setTimeout(() => {
          resolve("데이터를 성공적으로 가져 왔습니다.");
        }, 1000);
      });

      successPromise.then((result) => {
        console.log(result);
      });

      const failPromise = new Promise((resolve, reject) => {
        setTimeout(() => {
          reject("데이터 로드 실패!!!");
        }, 1000);
      });

      failPromise.then((result) => {
        console.log(result);
      });

      //   .then() 성공 처리
      //   promise.then(successCallBack, failureCallback)

      //   보통 성공만 처리
      //   promise.then((result) => {
      //     console.log(result);
      //   });

      //   .catch()- 실패처리
      //   promise.catch(error => {
      //    console.log(error);
      //   })

      const fetchData = new Promise((resolve, reject) => {
        setTimeout(() => {
          reject(new Error("네트워크 에러 발생!!!"));
        }, 1000);
      });

      fetchData
        .then((data) => {
          cosole.log("성공했을까요???");
          console.log(data);
        })
        .catch((error) => {
          console.error("에러 발생::::", error.message);
        })
        .finally(() => {
          console.log("무조건 실행");
        });
    </script>
  </body>
</html>